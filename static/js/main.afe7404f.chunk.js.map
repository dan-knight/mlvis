{"version":3,"sources":["logic/utility.js","components/graph/Scatter.jsx","components/graph/Line.jsx","components/graph/Axes.jsx","components/graph/Graph.jsx","components/menu/Transport.jsx","components/menu/Inputs.jsx","components/layout.jsx","components/menu/Menu.jsx","logic/importData.js","logic/linearAlgebra.js","logic/gradientDescent.js","App.js","serviceWorker.js","index.js"],"names":["checkFileExtension","filename","type","extension","startsWith","endsWith","getMax","array","reduce","max","nextValue","getEqualDivisions","range","amount","sectionSize","Array","from","keys","i","timeout","ms","Promise","resolve","setTimeout","Scatter","React","memo","props","fill","xData","map","d","cx","xScale","cy","yScale","yData","key","r","Line","f","x","coefficients","total","c","startX","xPoints","length","getD","stroke","color","Axes","Fragment","label","xLabel","tickSize","fontSize","yLabel","Axis","this","getLabelX","y","getLabelY","textAnchor","transform","getTransform","dy","getLabelDY","getTicks","Component","XAxis","startY","endX","YAxis","endY","Ticks","division","divisions","getDivisions","getTextAnchor","getTextX","getTextY","getTextDY","toFixed","PureComponent","XTicks","domain","YTicks","d3","require","Graph","getXScale","memoize","data","width","scaleLinear","getYScale","getXLinePoints","xLinePoints","viewBox","height","lines","l","theta","Transport","status","Button","variant","onClick","onStart","onPause","onReset","Input","ButtonGroup","className","toggle","options","o","ToggleButton","data-key","value","checked","disabled","getDisabled","onChange","e","name","target","text","Row","children","Col","size","Menu","stateSettings","axios","default","dataForge","importFile","a","path","console","log","get","response","importCSV","CSVstring","fromCSV","dynamicTyping","assert","matrixMultiply","leftData","rightData","leftColumns","left","getColumnNames","rightColumns","right","col","getSeries","getRow","leftRow","rightCol","at","getCell","newRows","forEach","row","push","DataFrame","multiply","shape","assertShapesMatch","rows","columns","isDataFrame","getDataFrameShape","isSeries","isArray","0","prepareLeft","transpose","count","inflate","values","getArrayShape","prepareData","deflate","Object","Series","getNewModel","xColumn","getBlankColumn","maxExponent","yColumn","formatX","select","v","transposeX","m","n","predict","model","predictedValues","errors","getErrors","cost","getCost","App","fitLine","state","iter","settings","maxIter","all","gradientDescent","prevCost","intervalLength","then","newState","setState","handleStart","initialTheta","predictions","handlePause","handleReset","prevState","handleChangeSetting","setting","testVal","learningRate","precision","prevPrediction","getNewTheta","regressionTerm","prevTheta","newPrediction","costDelta","class","toArray","Boolean","window","location","hostname","match","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","error","message"],"mappings":"uRAAO,SAASA,EAAmBC,EAAUC,GAC3C,IAAMC,EAAYD,EAAKE,WAAW,KAAOF,EAAQ,IAAMA,EACvD,OAAOD,EAASI,SAASF,GAAaF,EAAWA,EAAWE,EAGvD,SAASG,EAAOC,GACrB,OAAOA,EAAMC,QAAO,SAACC,EAAKC,GAAN,OAAqBD,EAAMC,EAAYA,EAAYD,IAAM,GAGxE,SAASE,EAAkBC,EAAOC,GACvC,IAAMC,GAAeF,EAAM,GAAKA,EAAM,IAAMC,EAE5C,OAAOE,MAAMC,KAAN,YAAeD,MAAMF,EAAS,GAAGI,SAAS,SAAAC,GAAC,OAAIN,EAAM,GAAKM,EAAIJ,KAGhE,IAAMK,EAAU,SAAAC,GAAE,OAAI,IAAIC,SAAQ,SAAAC,GAAO,OAAIC,WAAWD,EAASF,OCAzDI,EAbCC,IAAMC,MAAK,SAASC,GAClC,OACE,uBAAGC,KAAK,OACLD,EAAME,MAAMC,KAAI,SAACC,EAAGb,GACnB,OAAQ,4BACNc,GAAIL,EAAMM,OAAOF,GACjBG,GAAIP,EAAMQ,OAAOR,EAAMS,MAAMlB,IAC7BmB,IAAKnB,EACLoB,EAAG,WCgBEC,EAxBFd,IAAMC,MAAK,SAASC,GAC/B,SAASa,EAAEC,GACT,OAAOd,EAAMe,aAAalC,QAAO,SAACmC,EAAOC,EAAG1B,GAC1C,OAAOyB,EAASC,EAAC,SAAGH,EAAKvB,MAgB7B,OACE,0BAAMa,EAbR,WAIE,IAHA,IAAMc,EAASlB,EAAMmB,QAAQ,GACzBf,EAAC,WAAOJ,EAAMM,OAAOY,GAApB,YAA+BlB,EAAMQ,OAAOK,EAAEK,KAE1C3B,EAAI,EAAGA,EAAIS,EAAMmB,QAAQC,OAAQ7B,IAAK,CAC7C,IAAMuB,EAAId,EAAMmB,QAAQ5B,GACxBa,GAAC,YAASJ,EAAMM,OAAOQ,GAAtB,YAA4Bd,EAAMQ,OAAOK,EAAEC,KAG9C,OAAOV,EAIEiB,GAAQC,OAAQtB,EAAMuB,MAAOtB,KAAK,YCNhCuB,EAXF1B,IAAMC,MAAK,SAASC,GAC/B,OACE,kBAAC,IAAMyB,SAAP,KACE,kBAAC,EAAD,CAAOC,MAAO1B,EAAM2B,OAAQrB,OAAQN,EAAMM,OAAQE,OAAQR,EAAMQ,OAC9DoB,SAAU5B,EAAM4B,SAAUC,SAAU7B,EAAM6B,WAC5C,kBAAC,EAAD,CAAOH,MAAO1B,EAAM8B,OAAQxB,OAAQN,EAAMM,OAAQE,OAAQR,EAAMQ,OAC9DoB,SAAU5B,EAAM4B,SAAUC,SAAU7B,EAAM6B,eAO5CE,E,4MACJF,SAAW,IAAM,EAAK7B,MAAM6B,S,qDAG1B,MAAO,K,kCAIP,OAAO,I,kCAIP,OAAO,I,mCAIP,OAAO,I,qCAIP,MAAO,K,iCAIP,OAAO,O,+BAIP,OACE,kBAAC,IAAMJ,SAAP,KACE,uBAAGxB,KAAK,OAAOqB,OAAO,SACpB,0BAAMlB,EAAG4B,KAAKX,UAEhB,0BACEP,EAAGkB,KAAKC,YAAaC,EAAGF,KAAKG,YAC7BC,WAAW,SAASC,UAAWL,KAAKM,eACpCT,SAAUG,KAAKH,SAAUU,GAAIP,KAAKQ,cAC/BR,KAAKhC,MAAM0B,OACbM,KAAKS,gB,GAtCGC,aA4CbC,E,qKAEF,IAAMzB,EAASc,KAAKhC,MAAMM,OAAOrB,QAAQ,GACnC2D,EAASZ,KAAKhC,MAAMQ,OAAOvB,QAAQ,GACnC4D,EAAOb,KAAKhC,MAAMM,OAAOrB,QAAQ,GACvC,MAAM,IAAN,OAAWiC,EAAX,YAAqB0B,EAArB,aAAgCC,K,kCAMhC,OAFcb,KAAKhC,MAAMM,OAAOrB,QAAQ,GAAK+C,KAAKhC,MAAMM,OAAOrB,QAAQ,IAExD,EADC+C,KAAKhC,MAAMM,OAAOrB,QAAQ,K,kCAK1C,OAAO,M,mCAIP,OAAQ,IAAO+C,KAAKH,W,iCAIpB,OAAO,kBAAC,EAAD,CACLvB,OAAQ0B,KAAKhC,MAAMM,OAAQE,OAAQwB,KAAKhC,MAAMQ,OAC9CoB,SAAUI,KAAKhC,MAAM4B,SAAUC,SAAUG,KAAKH,e,GAzBhCE,GA8Bde,E,qKAEF,IAAM5B,EAASc,KAAKhC,MAAMM,OAAOrB,QAAQ,GACnC2D,EAASZ,KAAKhC,MAAMQ,OAAOvB,QAAQ,GACnC8D,EAAOf,KAAKhC,MAAMQ,OAAOvB,QAAQ,GACvC,MAAM,IAAN,OAAWiC,EAAX,YAAqB0B,EAArB,aAAgCG,K,kCAIhC,OAAOf,KAAKhC,MAAMQ,OAAOvB,QAAQ,GAAK,GAAK,I,kCAI3C,OAAO,I,mCAIP,OAAO+C,KAAKH,W,qCAIZ,MAAO,gB,iCAIP,OAAO,kBAAC,EAAD,CACLvB,OAAQ0B,KAAKhC,MAAMM,OAAQE,OAAQwB,KAAKhC,MAAMQ,OAC9CoB,SAAUI,KAAKhC,MAAM4B,SAAUC,SAAUG,KAAKH,e,GA3BhCE,GA+BdiB,E,4MACJnB,SAAW,GAAM,EAAK7B,MAAM6B,S,6DAG1B,MAAO,K,2BAGJoB,GACH,MAAO,K,+BAGAA,GACP,OAAO,I,+BAGAA,GACP,OAAO,I,kCAIP,OAAO,I,sCAIP,MAAO,K,+BAGC,IAAD,OACDC,EAAYlB,KAAKmB,eAEvB,OACE,kBAAC,IAAM1B,SAAP,KACE,uBAAGH,OAAO,QAAQrB,KAAK,QACpBiD,EAAU/C,KAAI,SAAC8C,EAAU1D,GACxB,OAAO,0BAAMa,EAAG,EAAKiB,KAAK4B,GAAWvC,IAAG,cAASnB,SAGrD,uBAAGsC,SAAUG,KAAKH,SAAUO,WAAYJ,KAAKoB,iBAC1CF,EAAU/C,KAAI,SAAC8C,EAAU1D,GACxB,OACE,0BACEuB,EAAG,EAAKuC,SAASJ,GACjBf,EAAG,EAAKoB,SAASL,GAAWV,GAAI,EAAKgB,YACrC7C,IAAG,cAASnB,IACT0D,EAASO,QAAQ,a,GA5ChBC,iBAsDdC,E,6KAEF,OAAO1E,EAAkBgD,KAAKhC,MAAMM,OAAOqD,SAAU,M,2BAGlDV,GACH,MAAM,IAAN,OAAWjB,KAAKhC,MAAMM,OAAO2C,GAA7B,YAA0CjB,KAAKhC,MAAMQ,OAAOvB,QAAQ,GAApE,aAA2E+C,KAAKhC,MAAM4B,Y,+BAG/EqB,GACP,OAAOjB,KAAKhC,MAAMM,OAAO2C,K,+BAGlBA,GACP,OAAOjB,KAAKhC,MAAMQ,OAAOvB,QAAQ,GAAK+C,KAAKhC,MAAM4B,W,kCAIjD,OAAOI,KAAKH,W,sCAIZ,MAAO,a,GAtBUmB,GA0BfY,E,6KAEF,OAAO5E,EAAkBgD,KAAKhC,MAAMQ,OAAOmD,SAAU,M,2BAGlDV,GACH,MAAM,IAAN,OAAWjB,KAAKhC,MAAMM,OAAOrB,QAAQ,GAArC,YAA2C+C,KAAKhC,MAAMQ,OAAOyC,GAA7D,cAA4EjB,KAAKhC,MAAM4B,Y,+BAGhFqB,GACP,OAAOjB,KAAKhC,MAAMM,OAAOrB,QAAQ,GAAK+C,KAAKhC,MAAM4B,SAAYI,KAAKH,SAAW,I,+BAGtEoB,GACP,OAAOjB,KAAKhC,MAAMQ,OAAOyC,K,kCAIzB,OAAOjB,KAAKH,SAAW,I,sCAIvB,MAAO,U,GAtBUmB,G,QCnMfa,EAAKC,EAAQ,IAEEC,E,4MACnBlC,SAAW,G,EACXD,SAAW,E,EACXoC,UAAYC,aAAQ,SAACC,EAAMC,GACzB,OAAON,EAAGO,cACPT,OAAO,CAAC,EAAkB,IAAfhF,EAAOuF,KAClBjF,MAAM,CAACkF,EAAQ,IAAKA,EAAO,Q,EAGhCE,UAAYJ,aAAQ,SAAAC,GAClB,OAAOL,EAAGO,cACPT,OAAO,CAAC,EAAkB,IAAfhF,EAAOuF,KAClBjF,MAAM,CAAC,IAAK,Q,EAGjBqF,eAAiBL,aAAQ,SAAA3D,GAAM,OAAItB,EAAkBsB,EAAOqD,SAAU,Q,uDAGpE,IAAMrD,EAAS0B,KAAKgC,UAAUhC,KAAKhC,MAAME,MAAO8B,KAAKhC,MAAMmE,OACrD3D,EAASwB,KAAKqC,UAAUrC,KAAKhC,MAAMS,OACnC8D,EAAcvC,KAAKsC,eAAehE,GAExC,OACE,yBACEkE,QAAO,cAASxC,KAAKhC,MAAMmE,MAApB,YAA6BnC,KAAKhC,MAAMyE,SAC9CzC,KAAKhC,MAAM0E,MAAMvE,KAAI,SAACwE,EAAGpF,GACxB,OAAO,kBAAC,EAAD,CACLwB,aAAc4D,EAAEC,MAAOlE,IAAKnB,EAC5Be,OAAQA,EAAQE,OAAQA,EACxBW,QAASoD,EAAahD,MAAM,iBAEhC,kBAAC,EAAD,CACErB,MAAO8B,KAAKhC,MAAME,MAClBO,MAAOuB,KAAKhC,MAAMS,MAClBH,OAAQA,EACRE,OAAQA,IACV,kBAAC,EAAD,CACEmB,OAAQ,cAAeG,OAAQ,eAC/BxB,OAAQA,EAAQE,OAAQA,EACxBoB,SAAUI,KAAKJ,SAAUC,SAAUG,KAAKH,gB,GAvCf4B,iB,QCPpB,SAASoB,EAAU7E,GAShC,OACE,6BACoB,WAAjBA,EAAM8E,OAVgC,aAAjB9E,EAAM8E,OAC9B,kBAACC,EAAA,EAAD,CAAQC,QAAQ,kBAAkBC,QAASjF,EAAMkF,SAAjD,SAA2E,KAEnD,kBAACH,EAAA,EAAD,CAAQC,QAAQ,kBAAkBC,QAASjF,EAAMmF,SAAjD,SAEiB,UAAjBnF,EAAM8E,OAC9B,kBAACC,EAAA,EAAD,CAAQC,QAAQ,kBAAmBC,QAASjF,EAAMoF,SAAlD,SAA4E,M,oBCP1EC,E,4KAEF,MAA6B,UAAtBrD,KAAKhC,MAAM8E,S,uCAFFrB,iBAUP6B,EAAb,uKACY,IAAD,OACP,OACE,kBAAC,IAAM7D,SAAP,KACE,uBAAG8D,UAAU,QAAQvD,KAAKhC,MAAM0B,OAChC,kBAAC,IAAD,CAAsB8D,QAAM,GACzBxD,KAAKhC,MAAMyF,QAAQtF,KAAI,SAACuF,EAAGnG,GAAJ,OACtB,kBAACoG,EAAA,EAAD,CACEjF,IAAKnB,EACLqG,WAAUrG,EACVhB,KAAK,QACLyG,QAAQ,kBACRa,MAAOH,EAAEG,MACTC,QAAS,EAAK9F,MAAM6F,QAAUH,EAAEG,MAChCE,SAAU,EAAKC,cACfC,SAAU,SAAAC,GAAC,OAAI,EAAKlG,MAAMiG,SAAS,EAAKjG,MAAMmG,KAAMD,EAAEE,OAAOP,SAE5DH,EAAEW,KAAOX,EAAEW,KAAOX,EAAEG,gBAjBnC,GAAiCR,GCX3BiB,EAAMxG,IAAMC,MAAK,SAASC,GAC9B,OACE,yBAAKuF,UAAU,OACZvF,EAAMuG,aAKPC,EAAM1G,IAAMC,MAAK,SAASC,GAC9B,OACE,yBAAKuF,UAAS,iBAAYvF,EAAMyG,KAAlB,SACZ,yBAAKlB,UAAW,wBACd,yBAAKA,UAAU,OACZvF,EAAMuG,eAOX3F,EAAOd,IAAMC,MAAK,SAASC,GAC/B,OACE,yBAAKuF,UAAU,QACZvF,EAAMuG,aCmCEG,EAvDF5G,IAAMC,MAAK,SAASC,GAC/B,OACE,kBAAC,IAAMyB,SAAP,KACG,CACC,CACE0E,KAAM,UACNzE,MAAO,qBACP+D,QAAS,CACP,CAAEI,MAAO,QACT,CAAEA,MAAO,OACT,CAAEA,MAAO,QAGb,CACEM,KAAM,eACNzE,MAAO,gBACP+D,QAAS,CACP,CAAEI,MAAO,KACT,CAAEA,MAAO,OACT,CAAEA,MAAO,UAGb,CACEM,KAAM,YACNzE,MAAO,sBACP+D,QAAS,CACP,CAAEI,MAAO,SACT,CAAEA,MAAO,UACT,CAAEA,MAAO,cAGb1F,KAAI,SAACC,EAAGb,GAAJ,OACJ,kBAAC,EAAD,KACE,kBAAC,EAAD,CACE4G,KAAM/F,EAAE+F,KACRzE,MAAOtB,EAAEsB,MACT+D,QAASrF,EAAEqF,QACXI,MAAO7F,EAAM2G,cAAcvG,EAAE+F,MAC7BF,SAAUjG,EAAMiG,SAChBnB,OAAQ9E,EAAM8E,OACdpE,IAAKnB,YC3CXqH,EAAQ9C,EAAQ,IAAS+C,QAEzBC,EAAYhD,EAAQ,IAEnB,SAAeiD,EAAtB,oC,4CAAO,WAA0BzI,EAAUC,GAApC,iBAAAyI,EAAA,6DACCC,EAAO,6CAA+C5I,EAAmBC,EAAUC,GACzF2I,QAAQC,IAAIF,GAFP,SAIgBL,EAAMQ,IAAIH,GAJ1B,cAIDI,EAJC,yBAKEA,EAASnD,MALX,4C,sBAQA,SAAeoD,EAAtB,kC,4CAAO,WAAyBhJ,GAAzB,eAAA0I,EAAA,sEACiBD,EAAWzI,EAAU,OADtC,cACDiJ,EADC,yBAEET,EAAUU,QAAQD,EAAW,CAACE,eAAe,KAF/C,4C,sBAKA,ICnBDX,EAAYhD,EAAQ,IACpB4D,EAAS5D,EAAQ,IAEhB,SAAS6D,EAAeC,EAAUC,GAyFvC,OAvBA,SAAkB3D,GAChB,IAAM4D,EAAc5D,EAAK6D,KAAKC,iBACxBC,EAAe/D,EAAKgE,MAAMF,iBAAiB7H,KAAI,SAAAgI,GAAG,OAAIjE,EAAKgE,MAAME,UAAUD,MAQjF,SAASE,EAAOC,GACd,OAAOL,EAAapJ,QAAO,SAAC6G,EAAGyC,EAAK5I,GAAT,mBAAC,eAAmBmG,GAApB,kBAAwBnG,EAPrD,SAAiB+I,EAASC,GACxB,OAAOT,EAAYjJ,QAAO,SAACmC,EAAOmH,EAAK5I,GACrC,OAAOyB,EAASuH,EAASC,GAAGjJ,GAAK+I,EAAQH,KACxC,GAIoDM,CAAQH,EAASH,OAAQ,IAGlF,IAAIO,EAAU,GAMd,OALAxE,EAAK6D,KAAKY,SAAQ,SAAAC,GAChB,IAAMjI,EAAI0H,EAAOO,GACjBF,EAAQG,KAAKlI,MAGR,IAAImG,EAAUgC,UAAUJ,GAG1BK,CAxFP,WACE,IAAIb,EAAQ,CACVhE,KAAM2D,EACNmB,MAAO,IAKT,SAASC,IACPvB,EAAOQ,EAAMc,MAAME,MAAQnB,EAAKiB,MAAMG,QAHjB,+BA2BvB,IAAMpB,EArBN,WACE,IAAI7D,EAGJ,GAAIkF,GAAYxB,GACd1D,EAAO0D,EACCyB,EAAkBzB,OACrB,KAAI0B,GAAS1B,KAAaxI,MAAMmK,QAAQ3B,GAMxC,KAAM,6DALX1D,EAAO,IAAI4C,EAAUgC,UAAU,CAC7BK,QAAS,CACPK,EAAG5B,KAKT,MAAO,CACL1D,KAAMA,EACN8E,MAAOK,EAAkBnF,IAIhBuF,GAEb,GAAIL,GAAYlB,EAAMhE,MACpBgE,EAAMc,MAAQK,EAAkBnB,EAAMhE,MAElCgE,EAAMc,MAAME,MAAQnB,EAAKiB,MAAMG,UACjCzB,EAAOQ,EAAMc,MAAMG,QAAUpB,EAAKiB,MAAMG,QAjCrB,+BAkCnBjB,EAAMhE,KAAOwF,EAAUxB,EAAMhE,MAC7BgE,EAAMc,MAAQK,EAAkBnB,EAAMhE,YAEnC,GAAIoF,GAASpB,EAAMhE,MACxBgE,EAAMc,MA4EH,CACLE,KA7E+BhB,EAAMhE,KA6E1ByF,QACXR,QAAS,GA7EPF,IAEAf,EAAMhE,KAAOgE,EAAMhE,KAAK0F,SAAQ,SAAAC,GAAM,MAAK,CAAEL,EAAGK,UAC3C,KAAIzK,MAAMmK,QAAQrB,EAAMhE,MASxB,KAAM,sDARXgE,EAAMc,MA6EZ,SAAuB9E,GACrB,MAAO,CACLgF,KAAMhF,EAAK9C,OACX+H,QAAS,GAhFOW,CAAc5B,EAAMhE,MAClC+E,IAEAf,EAAMhE,KAAO,IAAI4C,EAAUgC,UACzB,CAACK,QAAS,CACRK,EAAGtB,EAAMhE,QAKf,MAAO,CACL6D,KAAMA,EAAK7D,KACXgE,MAAOA,EAAMhE,MA2BD6F,IAIX,SAASL,EAAUxF,GAcxB,IAAIiF,EAAU,GAEd,OAfA,WACE,IAAI/I,EAEJ,GAAIgJ,GAAYlF,GACd9D,EAAI8D,MACC,KAAIoF,GAASpF,KAAS9E,MAAMmK,QAAQrF,GAEpC,KAAM,+CADX9D,EAAI,IAAI0G,EAAUgC,UAAU,CAAEK,QAAS,CAAEK,EAAGtF,KAG9C,OAAO9D,EAKT2J,GAAcC,UAAUrB,SAAQ,SAACC,EAAKrJ,GAAN,OAAY4J,EAAQ5J,GAAK0K,OAAOJ,OAAOjB,MAChE,IAAI9B,EAAUgC,UAAU,CAAEK,QAASA,IAI5C,SAASE,EAAkBnF,GACzB,MAAO,CACLgF,KAAMhF,EAAKyF,QACXR,QAASjF,EAAK8D,iBAAiB5G,QAsBnC,IAAMgI,GAAc,SAAAlF,GAAI,OAAIA,aAAgB4C,EAAUgC,WAChDQ,GAAW,SAAApF,GAAI,OAAIA,aAAgB4C,EAAUoD,QC5I7CpD,GAAYhD,EAAQ,IAEnB,SAASqG,KAIb,IAHDC,EAGA,uDAHUC,KACVC,EAEA,uDAFc,EACdC,EACA,uDADUF,KAEV,SAASG,IACP,IAAMrB,EAAU,YAAI/J,MAAMkL,EAAc,GAAGhL,QAAQT,QAAO,SAAC6G,EAAGQ,EAAG3G,GAC/D,OAAO,2BAAImG,GAAX,kBAAenG,EAAI6K,EAAQK,QAAO,SAAAC,GAAC,gBAAIA,EAAKxE,UAC3C,IAEH,OAAO,IAAIY,GAAUgC,UAAU,CAAEK,QAASA,IAG5C,IAAMjJ,EAAQsK,IAEd,MAAO,CACLtK,MAAQA,EACRyK,WAAYjB,EAAUxJ,GACtBO,MAAQ8J,EACRK,EAAG1K,EAAMyJ,QACTkB,EAAG3K,EAAM8H,iBAAiB5G,QAIvB,SAAS0J,GAAQC,EAAOhK,GAC7B,IAAMiK,EAAkBrD,EAAeoD,EAAM7K,MAAOa,GAAcqH,UAAU,KAQtE6C,EANY,WAChB,IAAIA,EAAS,GAEb,OADAD,EAAgBrC,SAAQ,SAAC+B,EAAGnL,GAAQ0L,EAAOpC,KAAM6B,EAAIK,EAAMtK,MAAM+H,GAAGjJ,OAC7D0L,EAGMC,GAQf,MAAO,CACLtG,MAAO7D,EACP8I,OAAQmB,EACRC,OAAQA,EACRE,KAVc,WACd,IAAMP,EAAIG,EAAMtK,MAAMkJ,QAEtB,OADsBsB,EAAOpM,QAAO,SAACmC,EAAOkF,GAAR,OAAclF,EAAK,SAAIkF,EAAK,KAAI,IAC5C,EAAI0E,GAOtBQ,IAIV,IAAMf,GAAiB,kBAAM,IAAIvD,GAAUoD,OAAO,KCzC7BmB,G,kDACnB,aAAe,IAAD,8BACZ,gBA0CFC,QA3Cc,sBA2CJ,sBAAAtE,EAAA,sDACJ,EAAKuE,MAAMC,KAAO,EAAKD,MAAME,SAASC,QACxChM,QAAQiM,IAAI,CACV,IAAIjM,SAAQ,SAAAC,GAAaA,EAAQ,EAAKiM,sBACtCpM,EAAQ,EAAK+L,MAAMM,SAAW,EAAKN,MAAME,SAASK,kBACjDC,MAAK,SAAAlC,GACN,GAA0B,WAAtB,EAAK0B,MAAMzG,OAAqB,CAClC,IAAMkH,EAAWnC,EAAO,GACxB,EAAKoC,SAASD,OAGb,EAAKC,SAAS,CAAEnH,OAAQ,aAXvB,2CA3CI,EAqFdoH,YAAc,WACZ,GAA0B,UAAtB,EAAKX,MAAMzG,OAAoB,CACjC,IAAMqH,EAAe,IAAI/M,MAAM,EAAKmM,MAAMR,MAAMF,GAAG5K,KAAK,GAExD,EAAKgM,SAAS,CACZG,YAAa,CAACtB,GAAQ,EAAKS,MAAMR,MAAOoB,MAI5C,EAAKF,SAAS,CACZnH,OAAQ,YA/FE,EAmGduH,YAAc,WACZ,EAAKJ,SAAS,CACZnH,OAAQ,YArGE,EAyGdwH,YAAc,WACZ,EAAKL,UAAS,SAAAM,GAAS,MAAK,CAC1BzH,OAAQ,QACR0G,KAAM,EACNK,SAAU,EACVO,YAAa,QA9GH,EAkHdI,oBAAsB,SAACC,EAAS5G,GAC9B,EAAKoG,SAAS,CAACR,SAAS,2BACnB,EAAKF,MAAME,UADO,kBAEpBgB,EAAU5G,MAGbqB,QAAQC,IAAIsF,EAAS5G,IArHrB,EAAK0F,MAAQ,CACXmB,QAAS,EACTxI,KHC4B,IAAI4C,EAAUgC,UAAU,CAAEe,OAAQ,KGA9DkB,MAAOZ,KACPiC,YAAa,GACbtH,OAAQ,QACR0G,KAAM,EACNK,SAAU,EACVJ,SAAU,CACRC,QAAS,OACTiB,aAAc,IACdC,UAAW,QACXd,eAAgB,SAfR,E,gGAoBGxN,G,6EACf0D,K,SAA4BsF,EAAUhJ,G,yBAAtB4F,K,WAAX+H,S,mSAIc3E,EAAU,Q,OAAvBpD,E,OACA6G,EAAQZ,GACZjG,EAAKkE,UAAU,eAAgB,EAC/BlE,EAAKkE,UAAU,iBAEjBpG,KAAKiK,SAAS,CACZ/H,KAAMA,EACN6G,MAAOA,EACPqB,YAAa,K,iJAKU,UAArBpK,KAAKuJ,MAAMzG,QACb9C,KAAKsJ,Y,8KAmBDuB,EAAiB7K,KAAKuJ,MAAMa,YAAYpK,KAAKuJ,MAAMa,YAAYhL,OAAS,GAExE0L,EAAc,WAClB,IAAMC,EAAiBpF,EAAekF,EAAe5B,OAAQ,EAAKM,MAAMR,MAAMJ,YAE9E,OAAOkC,EAAejI,MAAMzE,KAAI,SAAC6M,EAAWzN,GAAZ,OAC9ByN,EAAc,EAAKzB,MAAME,SAASkB,aAAe,EAAKpB,MAAMR,MAAMH,EAAKmC,EAAevE,GAAGjJ,GAAG,OAI1F0N,EAAgBnC,GAAQ9I,KAAKuJ,MAAMR,MAAO+B,KAE1CI,GAAaL,EAAe1B,KAAO8B,EAAc9B,MAAQ0B,EAAe1B,KAE1Ea,EAAW,CACbI,YAAY,GAAD,mBAAMpK,KAAKuJ,MAAMa,aAAjB,CAA8Ba,IACzCzB,KAAMxJ,KAAKuJ,MAAMC,KAAO,EACxBK,SAAUqB,GAGRA,EAAYlL,KAAKuJ,MAAME,SAASmB,YAClCZ,EAASlH,OAAS,Y,kBAGbkH,G,qIA0CP,OACE,yBAAKmB,MAAM,aACT,kBAAC7G,EAAD,KACE,kBAACE,EAAD,CAAKC,KAAK,MACR,kBAAC,EAAD,CAAOtC,MAAM,MAAMM,OAAO,MAC1BvE,MAAO8B,KAAKuJ,MAAMR,MAAM7K,MAAMkI,UAAU,KAAKgF,UAC7C3M,MAAOuB,KAAKuJ,MAAMR,MAAMtK,MAAM2M,UAC9B1I,MAAO1C,KAAKuJ,MAAMa,gBAItB,kBAAC9F,EAAD,KACE,kBAACE,EAAD,CAAKC,KAAK,KACR,kBAAC,EAAD,CACER,SAAUjE,KAAKwK,oBACf7F,cAAe3E,KAAKuJ,MAAME,SAC1B3G,OAAQ9C,KAAKuJ,MAAMzG,UAEvB,kBAAC0B,EAAD,CAAKC,KAAK,KACR,kBAAC,EAAD,KACE,kBAAC5B,EAAD,CACEK,QAASlD,KAAKkK,YACd/G,QAASnD,KAAKqK,YACdjH,QAASpD,KAAKsK,YACdxH,OAAQ9C,KAAKuJ,MAAMzG,UANzB,sBAQkB9C,KAAKuJ,MAAMC,KAR7B,Y,GA/IuB9I,aCAb2K,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DCZNC,IAASC,OACP,kBAAC,IAAMC,WAAP,KACE,kBAAC,GAAD,OAEFC,SAASC,eAAe,SDyHpB,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBlC,MAAK,SAAAmC,GACJA,EAAaC,gBAEdC,OAAM,SAAAC,GACLnH,QAAQmH,MAAMA,EAAMC,c","file":"static/js/main.afe7404f.chunk.js","sourcesContent":["export function checkFileExtension(filename, type) {\n  const extension = type.startsWith('.') ? type  : '.' + type;\n  return filename.endsWith(extension) ? filename : filename + extension; \n};\n\nexport function getMax(array) {\n  return array.reduce((max, nextValue) => (max < nextValue ? nextValue : max), 0);\n};\n\nexport function getEqualDivisions(range, amount) {\n  const sectionSize = (range[1] - range[0]) / amount;\n\n  return Array.from([...Array(amount + 1).keys()], i => range[0] + i * sectionSize);\n};\n\nexport const timeout = ms => new Promise(resolve => setTimeout(resolve, ms));","import React from 'react';\n\nconst Scatter = React.memo(function(props) {\n  return (\n    <g fill=\"red\">\n      {props.xData.map((d, i) => {\n        return (<circle \n          cx={props.xScale(d)}\n          cy={props.yScale(props.yData[i])}\n          key={i}\n          r={2} />)})}\n    </g>\n  );\n});\n\nexport default Scatter;","import React from 'react';\n \nconst Line = React.memo(function(props) {\n  function f(x) {\n    return props.coefficients.reduce((total, c, i) => {\n      return total + (c * x ** i);\n    });\n  };\n\n  function getD() {\n    const startX = props.xPoints[0];\n    let d = `M${props.xScale(startX)} ${props.yScale(f(startX))}`;\n    \n    for (let i = 1; i < props.xPoints.length; i++) {\n      const x = props.xPoints[i];\n      d += ` L${props.xScale(x)} ${props.yScale(f(x))}`\n    };\n    \n    return d;\n  };\n\n  return (\n    <path d={getD()} stroke={props.color} fill=\"none\" />\n  )\n});\n\nexport default Line;","import { Component, PureComponent } from \"react\";\nimport React from 'react';\n\nimport { getEqualDivisions } from '../../logic/utility';\n\nconst Axes = React.memo(function(props) {\n  return(\n    <React.Fragment>\n      <XAxis label={props.xLabel} xScale={props.xScale} yScale={props.yScale}\n        tickSize={props.tickSize} fontSize={props.fontSize} />\n      <YAxis label={props.yLabel} xScale={props.xScale} yScale={props.yScale}\n        tickSize={props.tickSize} fontSize={props.fontSize} />\n    </React.Fragment>\n  )\n});\n\nexport default Axes;\n\nclass Axis extends Component {\n  fontSize = 1.4 * this.props.fontSize;\n\n  getD() {\n    return ''\n  };\n\n  getLabelX() {\n    return 0;\n  };\n\n  getLabelY() {\n    return 0;\n  };\n\n  getLabelDY() {\n    return 0;\n  };\n\n  getTransform() {\n    return '';\n  };\n\n  getTicks() {\n    return null;\n  }\n\n  render() {\n    return (\n      <React.Fragment>\n        <g fill=\"none\" stroke=\"black\">\n          <path d={this.getD()}></path>\n        </g>\n        <text \n          x={this.getLabelX()} y={this.getLabelY()}\n          textAnchor=\"middle\" transform={this.getTransform()}\n          fontSize={this.fontSize} dy={this.getLabelDY()}>\n            {this.props.label}</text>\n          {this.getTicks()}\n      </React.Fragment>\n    );\n  };\n};\n\nclass XAxis extends Axis {\n  getD() {\n    const startX = this.props.xScale.range()[0];\n    const startY = this.props.yScale.range()[0];\n    const endX = this.props.xScale.range()[1];\n    return `M${startX} ${startY} H${endX}`;\n  };\n\n  getLabelX() {\n    const range = this.props.xScale.range()[1] - this.props.xScale.range()[0];\n    const minimum = this.props.xScale.range()[0];\n    return range / 2 + minimum;\n  };\n\n  getLabelY() {\n    return 575;\n  };\n\n  getLabelDY() {\n    return -0.25 * this.fontSize;\n  };\n\n  getTicks() {\n    return <XTicks \n      xScale={this.props.xScale} yScale={this.props.yScale} \n      tickSize={this.props.tickSize} fontSize={this.fontSize} />\n  }\n\n};\n\nclass YAxis extends Axis {\n  getD() {\n    const startX = this.props.xScale.range()[0];\n    const startY = this.props.yScale.range()[0];\n    const endY = this.props.yScale.range()[1];\n    return `M${startX} ${startY} V${endY}`;\n  };\n\n  getLabelX() {\n    return this.props.yScale.range()[0] / 2 * -1\n  };\n\n  getLabelY() {\n    return 0;\n  };\n\n  getLabelDY() {\n    return this.fontSize;\n  };\n\n  getTransform() {\n    return 'rotate(270)';\n  };\n\n  getTicks() {\n    return <YTicks \n      xScale={this.props.xScale} yScale={this.props.yScale} \n      tickSize={this.props.tickSize} fontSize={this.fontSize} />\n  }\n}\n\nclass Ticks extends PureComponent {\n  fontSize = 0.6 * this.props.fontSize;\n\n  getDivisions() {\n    return [];\n  };\n\n  getD(division) {\n    return '';\n  };\n\n  getTextX(division) {\n    return 0;\n  };\n\n  getTextY(division) {\n    return 0;\n  };\n\n  getTextDY() {\n    return 0;\n  }\n\n  getTextAnchor() {\n    return '';\n  };\n\n  render() {\n    const divisions = this.getDivisions();\n\n    return (\n      <React.Fragment>\n        <g stroke=\"black\" fill=\"none\">\n          {divisions.map((division, i) => {\n            return <path d={this.getD(division)} key={`path${i}`} />\n          })}\n        </g>\n        <g fontSize={this.fontSize} textAnchor={this.getTextAnchor()}>\n          {divisions.map((division, i) => {\n            return (\n              <text \n                x={this.getTextX(division)} \n                y={this.getTextY(division)} dy={this.getTextDY()}\n                key={`text${i}`} >\n                  {division.toFixed(1)}\n              </text>\n            )\n          })}\n        </g>\n      </React.Fragment>\n    )\n  }\n};\n\nclass XTicks extends Ticks {\n  getDivisions() {\n    return getEqualDivisions(this.props.xScale.domain(), 10);\n  }\n\n  getD(division) {\n    return `M${this.props.xScale(division)} ${this.props.yScale.range()[0]} v${this.props.tickSize}`;\n  };\n\n  getTextX(division) {\n    return this.props.xScale(division);\n  };\n\n  getTextY(division) {\n    return this.props.yScale.range()[0] + this.props.tickSize;\n  };\n\n  getTextDY() {\n    return this.fontSize;\n  };\n\n  getTextAnchor() {\n    return \"middle\";\n  }\n};\n\nclass YTicks extends Ticks {\n  getDivisions() {\n    return getEqualDivisions(this.props.yScale.domain(), 10);\n  }\n\n  getD(division) {\n    return `M${this.props.xScale.range()[0]} ${this.props.yScale(division)} h-${this.props.tickSize}`;\n  };\n\n  getTextX(division) {\n    return this.props.xScale.range()[0] - this.props.tickSize - (this.fontSize / 2);\n  };\n\n  getTextY(division) {\n    return this.props.yScale(division);\n  };\n\n  getTextDY() {\n    return this.fontSize / 2\n  };\n\n  getTextAnchor() {\n    return \"end\";\n  };\n};\n\n","import React, { PureComponent } from 'react';\n\nimport { getMax, getEqualDivisions } from '../../logic/utility';\nimport Scatter from './Scatter';\nimport Line from './Line';\nimport Axes from './Axes';\n\nimport memoize from 'memoize-one';\nconst d3 = require('d3-scale');\n\nexport default class Graph extends PureComponent {\n  fontSize = 16;\n  tickSize = 5;\n  getXScale = memoize((data, width) => {\n    return d3.scaleLinear()\n      .domain([0, getMax(data) * 1.1])\n      .range([width - 825, width -25]);\n  });\n\n  getYScale = memoize(data => {\n    return d3.scaleLinear()\n      .domain([0, getMax(data) * 1.1])\n      .range([475, 25]);\n  });\n\n  getXLinePoints = memoize(xScale => getEqualDivisions(xScale.domain(), 1000));\n\n  render() {\n    const xScale = this.getXScale(this.props.xData, this.props.width);\n    const yScale = this.getYScale(this.props.yData);\n    const xLinePoints = this.getXLinePoints(xScale);\n\n    return (\n      <svg \n        viewBox={`0 0 ${this.props.width} ${this.props.height}`}>\n        {this.props.lines.map((l, i) => {\n          return <Line \n            coefficients={l.theta} key={i}\n            xScale={xScale} yScale={yScale} \n            xPoints={xLinePoints} color=\"lightblue\" />\n        })}\n        <Scatter \n          xData={this.props.xData}\n          yData={this.props.yData}\n          xScale={xScale}\n          yScale={yScale} />\n        <Axes \n          xLabel={'Sepal Width'} yLabel={'Sepal Length'} \n          xScale={xScale} yScale={yScale}\n          tickSize={this.tickSize} fontSize={this.fontSize} />\n      </svg>\n    );\n  };\n};\n","import React from 'react';\nimport { Button } from 'react-bootstrap';\n\nexport default function Transport(props) {\n  const startButton = () => props.status !== 'complete' ? \n    <Button variant='outline-primary' onClick={props.onStart}>Start</Button> : null;\n\n  const pauseButton = () => <Button variant='outline-primary' onClick={props.onPause}>Pause</Button>;\n\n  const resetButton = () => props.status !== 'clean' ? \n    <Button variant='outline-primary'  onClick={props.onReset}>Reset</Button> : null;\n\n  return (\n    <div>\n      {props.status !== 'active' ? startButton() : pauseButton()}\n      {resetButton()}\n    </div>\n  );\n};","import React, { PureComponent } from 'react';\nimport { ButtonGroup as BootstrapButtonGroup, ToggleButton } from 'react-bootstrap';\n\nclass Input extends PureComponent {\n  getDisabled() {\n    return this.props.status !== 'clean';\n  };\n\n  render() {\n    return;\n  }\n}\n\nexport class ButtonGroup extends Input {\n  render() {\n    return (\n      <React.Fragment>\n        <p className=\"mb-1\">{this.props.label}</p>\n        <BootstrapButtonGroup toggle>\n          {this.props.options.map((o, i) => (\n            <ToggleButton\n              key={i}\n              data-key={i}\n              type=\"radio\"\n              variant=\"outline-primary\"\n              value={o.value}\n              checked={this.props.value === o.value}\n              disabled={this.getDisabled()}\n              onChange={e => this.props.onChange(this.props.name, e.target.value)}\n            >\n              {o.text ? o.text : o.value}\n            </ToggleButton>\n          ))}\n        </BootstrapButtonGroup>\n      </React.Fragment>\n    );\n  };\n};\n\nexport class Slider extends Input {\n  render() {\n    return (\n      <div>\n        <input type='range' className=''\n          name={this.props.name} \n          min={this.props.min}\n          max={this.props.max}\n          value={this.props.value}\n          onChange={e => this.props.onChange(e)}\n          disabled={this.getDisabled()} />\n        <label>{this.props.value}</label>\n      </div>\n    );\n  };\n};","import React from 'react';\n\nconst Row = React.memo(function(props) {\n  return (\n    <div className=\"row\">\n      {props.children}\n    </div>\n  ); \n});\n\nconst Col = React.memo(function(props) {\n  return (\n    <div className={`col-lg-${props.size} p-4`}>\n      <div className={'rounded bg-white p-1'}>\n        <div className=\"m-4\">\n          {props.children}\n        </div>\n      </div>\n    </div>\n  )\n});\n\nconst Line = React.memo(function(props) {\n  return (\n    <div className=\"mb-4\">\n      {props.children}\n    </div>\n  );\n});\n\nexport { Row, Col, Line };","import React from 'react';\n\nimport { ButtonGroup } from './Inputs';\nimport { Line } from '../layout';\n\nconst Menu = React.memo(function(props) {\n  return (\n    <React.Fragment>\n      {[\n        {\n          name: 'maxIter',\n          label: 'Maximum Iterations',\n          options: [\n            { value: '1000' },\n            { value: '100' },\n            { value: '10' }\n          ]\n        },\n        {\n          name: 'learningRate',\n          label: 'Learning Rate',\n          options: [\n            { value: '1' },\n            { value: '0.1' },\n            { value: '0.01' }\n          ]\n        },\n        {\n          name: 'precision',\n          label: 'Precision Threshold',\n          options: [\n            { value: '0.001' },\n            { value: '0.0001' },\n            { value: '0.00001' }\n          ]\n        }\n      ].map((d, i) => (\n        <Line>\n          <ButtonGroup \n            name={d.name}\n            label={d.label}\n            options={d.options}\n            value={props.stateSettings[d.name]}\n            onChange={props.onChange}\n            status={props.status}\n            key={i} />\n        </Line>\n      ))}\n        \n      {/* <Slider \n        name='intervalLength'\n        min={1000}\n        max={10000}\n        value={props.stateSettings.intervalLength}\n        onChange={props.onChange}\n        status={props.status} /> */}\n    </React.Fragment>\n  );\n});\n\nexport default Menu;","import { checkFileExtension } from './utility';\n\nconst axios = require('axios').default;\n\nconst dataForge = require('data-forge');\n\nexport async function importFile(filename, type) {\n  const path = 'https://thedanknight.github.io/mlvis/data/' + checkFileExtension(filename, type);\n  console.log(path)\n\n  let response = await axios.get(path);\n  return response.data;\n}\n\nexport async function importCSV(filename) {\n  let CSVstring = await importFile(filename, 'csv');\n  return dataForge.fromCSV(CSVstring, {dynamicTyping: true});\n};\n\nexport const getBlankData = () => new dataForge.DataFrame({ values: []})","const dataForge = require('data-forge');\nconst assert = require('assert');\n\nexport function matrixMultiply(leftData, rightData) {\n  function prepareData() {\n    let right = { \n      data: rightData,\n      shape: []\n    };\n\n    const shapeErrorText = \"Matrix shapes do not match.\";\n\n    function assertShapesMatch() {\n      assert(right.shape.rows == left.shape.columns, shapeErrorText);\n    }\n    \n    function prepareLeft() {\n      let data;\n      let shape;\n\n      if (isDataFrame(leftData)) {\n        data = leftData;\n        shape = getDataFrameShape(leftData);\n      } else if (isSeries(leftData) || Array.isArray(leftData)) {\n        data = new dataForge.DataFrame({ \n          columns: { \n            0: leftData \n          }\n        })\n      } else throw \"First term must be a data-forge DataFrame/Series or array.\"\n\n      return { \n        data: data, \n        shape: getDataFrameShape(data)\n      };\n    };\n\n    const left = prepareLeft();\n\n    if (isDataFrame(right.data)) {\n      right.shape = getDataFrameShape(right.data);\n \n      if (right.shape.rows != left.shape.columns) {\n        assert(right.shape.columns = left.shape.columns, shapeErrorText);\n        right.data = transpose(right.data);\n        right.shape = getDataFrameShape(right.data);\n      };\n    } else if (isSeries(right.data)) {\n      right.shape = getSeriesShape(right.data);\n      assertShapesMatch();\n\n      right.data = right.data.inflate(values => ({ 0: values }));\n    } else if (Array.isArray(right.data)) {\n      right.shape = getArrayShape(right.data);\n      assertShapesMatch();\n\n      right.data = new dataForge.DataFrame(\n        {columns: { \n          0: right.data \n        }\n      });\n    } else throw \"Second term must be an array or a DataFrame/Series.\";\n\n    return { \n      left: left.data, \n      right: right.data \n    }\n  };\n\n  function multiply(data) {\n    const leftColumns = data.left.getColumnNames();\n    const rightColumns = data.right.getColumnNames().map(col => data.right.getSeries(col));\n  \n    function getCell(leftRow, rightCol) {\n      return leftColumns.reduce((total, col, i) => {\n        return total + (rightCol.at(i) * leftRow[col])\n      }, 0);\n    };\n\n    function getRow(leftRow) {\n      return rightColumns.reduce((o, col, i) => ({...o, [i]: getCell(leftRow, col)}), {})\n    };\n\n    let newRows = [];\n    data.left.forEach(row => { \n      const r = getRow(row);\n      newRows.push(r);\n    });\n\n    return new dataForge.DataFrame(newRows);\n  };\n  \n  return multiply(prepareData());\n};\n\n\nexport function transpose(data) {\n  function prepareData() {\n    let d;\n\n    if (isDataFrame(data)) {\n      d = data;\n    } else if (isSeries(data) || Array.isArray(data)) {\n      d = new dataForge.DataFrame({ columns: { 0: data }});\n    } else throw \"Data must be an array or a DataFrame/Series.\"\n\n    return d;\n  };\n  \n  \n  let columns = {};\n  prepareData().deflate().forEach((row, i) => columns[i] = Object.values(row)); \n  return new dataForge.DataFrame({ columns: columns });\n};\n\n\nfunction getDataFrameShape(data) {\n  return {\n    rows: data.count(),\n    columns: data.getColumnNames().length\n  };\n};\n\nfunction getSeriesShape(data) {\n  return {\n    rows: data.count(),\n    columns: 1\n  };\n};\n\nfunction getArrayShape(data) {\n  return {\n    rows: data.length,\n    columns: 1\n  };\n};\n\nfunction assertDataFrame(data) { \n  assert((isDataFrame(data)), 'First term must be a DataFrame.');\n};\n\nconst isDataFrame = data => data instanceof dataForge.DataFrame;\nconst isSeries = data => data instanceof dataForge.Series;\n\n","import { matrixMultiply, transpose } from './linearAlgebra';\n\nconst dataForge = require('data-forge');\n\nexport function getNewModel(\n  xColumn = getBlankColumn(),\n  maxExponent = 1, \n  yColumn = getBlankColumn()\n) {\n  function formatX() {\n    const columns = [...Array(maxExponent + 1).keys()].reduce((o, e, i) => {\n      return {...o, [i]: xColumn.select(v => v ** e)}\n    }, {});\n\n    return new dataForge.DataFrame({ columns: columns })\n  };\n\n  const xData = formatX();\n\n  return {\n    xData : xData,\n    transposeX: transpose(xData),\n    yData : yColumn,\n    m: xData.count(),\n    n: xData.getColumnNames().length\n  };\n};\n\nexport function predict(model, coefficients) {\n  const predictedValues = matrixMultiply(model.xData, coefficients).getSeries('0');\n  \n  const getErrors = () => {\n    let errors = [];\n    predictedValues.forEach((v, i) => { errors.push( v - model.yData.at(i)) });\n    return errors;\n  };\n\n  const errors = getErrors();\n\n  const getCost = () => {\n    const m = model.yData.count();\n    const squaredErrors = errors.reduce((total, e) => total + (e ** 2), 0);\n    return squaredErrors / (2 * m);\n  };\n\n  return {\n    theta: coefficients,\n    values: predictedValues,\n    errors: errors,\n    cost: getCost()\n  };\n};\n\nconst getBlankColumn = () => new dataForge.Series([]);\n","import React, { Component } from 'react';\n\nimport Graph from './components/graph/Graph';\nimport Transport from './components/menu/Transport';\nimport Menu from './components/menu/Menu';\nimport { Row, Col, Line } from './components/layout';\n\nimport { timeout } from './logic/utility';\nimport { importCSV, getBlankData } from './logic/importData';\nimport { getNewModel, predict } from './logic/gradientDescent';\nimport { matrixMultiply } from './logic/linearAlgebra';\n\nexport default class App extends Component {\n  constructor() {\n    super()\n\n    this.state = {\n      testVal: 0,\n      data: getBlankData(),\n      model: getNewModel(),\n      predictions: [],\n      status: 'clean',\n      iter: 0,\n      prevCost: 0,\n      settings: {\n        maxIter: '1000',\n        learningRate: '1',\n        precision: '0.001',\n        intervalLength: '1000'\n      }\n    };\n  };\n\n  async importData(filename) {\n    this.setState({ data: await importCSV(filename) });\n  };\n\n  async componentDidMount() {\n    const data = await importCSV('iris');\n    const model = getNewModel(\n      data.getSeries('sepal_width'), 1,\n      data.getSeries('sepal_length'));\n\n    this.setState({\n      data: data,\n      model: model,\n      predictions: []\n    });\n  };\n\n  componentDidUpdate() {\n    if (this.state.status == 'active') {\n      this.fitLine()\n    };\n  };\n\n  fitLine = async () =>  {\n    if (this.state.iter < this.state.settings.maxIter) {\n      Promise.all([\n        new Promise(resolve => { resolve(this.gradientDescent()) }),\n        timeout(this.state.prevCost * this.state.settings.intervalLength)\n      ]).then(values => {\n        if (this.state.status === 'active') {\n          const newState = values[0];\n          this.setState(newState);\n        };\n      });\n    } else this.setState({ status: 'complete' });\n  };\n\n  async gradientDescent() {\n    const prevPrediction = this.state.predictions[this.state.predictions.length - 1];\n\n    const getNewTheta = () => {\n      const regressionTerm = matrixMultiply(prevPrediction.errors, this.state.model.transposeX);\n\n      return prevPrediction.theta.map((prevTheta, i) => (\n        prevTheta - ((this.state.settings.learningRate / this.state.model.m) * regressionTerm.at(i)[0]))\n      );\n    };\n\n    const newPrediction = predict(this.state.model, getNewTheta())\n    \n    const costDelta = (prevPrediction.cost - newPrediction.cost) / prevPrediction.cost;\n\n    let newState = {\n      predictions: [...this.state.predictions, newPrediction],\n      iter: this.state.iter + 1,\n      prevCost: costDelta\n    };\n      \n    if (costDelta < this.state.settings.precision) { \n      newState.status = 'complete';\n    };\n\n    return newState;\n  };\n\n  handleStart = () => {\n    if (this.state.status === 'clean') {\n      const initialTheta = new Array(this.state.model.n).fill(0);\n\n      this.setState({\n        predictions: [predict(this.state.model, initialTheta)],\n      });\n    };\n\n    this.setState({\n      status: 'active',\n    });\n  };\n\n  handlePause = () => {\n    this.setState({\n      status: 'paused'\n    });\n  };\n\n  handleReset = () => {\n    this.setState(prevState => ({ \n      status: 'clean',\n      iter: 0,\n      prevCost: 0,\n      predictions: []\n    }));\n  };\n\n  handleChangeSetting = (setting, value) => {\n    this.setState({settings: {\n      ...this.state.settings,\n      [setting]: value\n    }});\n\n    console.log(setting, value)\n  };\n\n  render() {\n    return (\n      <div class=\"container\">\n        <Row>\n          <Col size=\"12\">\n            <Graph width=\"925\" height=\"575\"\n            xData={this.state.model.xData.getSeries('1').toArray()}\n            yData={this.state.model.yData.toArray()}\n            lines={this.state.predictions}  \n            />   \n          </Col>\n        </Row>\n        <Row>\n          <Col size=\"6\">\n            <Menu \n              onChange={this.handleChangeSetting}\n              stateSettings={this.state.settings}\n              status={this.state.status} />\n          </Col>\n          <Col size=\"6\">\n            <Line>\n              <Transport \n                onStart={this.handleStart} \n                onPause={this.handlePause}\n                onReset={this.handleReset}\n                status={this.state.status} />\n            </Line>\n            {`Iterations: ${this.state.iter} `}\n          </Col>\n        </Row>\n      </div>\n    );\n  };\n};\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './style/style.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}